# Subway Route Management System

## 项目简介
Subway Route Management System（地铁路线管理系统）是一个基于Tkinter开发的应用程序，用于管理和查询地铁线路及站点信息。该系统支持添加新线路、编辑现有线路、查询最短时间路径以及最少换乘次数等功能。

## 功能特点

- **数据管理**：加载和保存地铁线路及站点数据，支持数据的持久化存储。
- **线路管理**：用户可以添加新的地铁线路，删除或修改现有线路。
- **站点管理**：添加、删除地铁站点，修改站点状态（开放或封闭），以及设置站点之间的时间权重。
- **路径查询**：提供两种路径查询方式，按最短时间或最少换乘次数查询从起点到终点的最优路径。
- **交互界面**：基于Tkinter的图形用户界面，简洁直观地进行各项操作。
- **事件处理**：右键点击站点可进行多种操作，如增加、删除、编辑、开启关闭站点，查看和修改换乘等。

## 技术栈

- **Python**：项目的主要开发语言。
- **Tkinter**：用于构建图形用户界面。
- **JSON**：用于数据的存储和加载。

## 开始使用

运行程序：
```bash
python main.py
```


## 功能介绍

### 主界面
运行程序后，您将看到主界面，包含以下组件：
- **线路下拉菜单**：选择要查看或编辑的地铁线路。
- **查询线路按钮**：显示所选线路的详细信息和站点布局。
- **添加线路按钮**：打开一个窗口以添加新的地铁线路。
- **查询最短路径按钮**：打开路径查询窗口以搜索最短时间路径或最少换乘路径。
- **退出按钮**：退出应用程序。

### 管理线路
- **添加新线路**：点击“添加线路”按钮，输入线路ID、线路名称及站点（以空格分隔），每个站点默认连线权重为1。
- **查询线路**：从下拉菜单选择一个线路后点击“查询线路”，在画布上显示所选线路的图形表示，包括站点位置、连接线及换乘信息。

### 站点管理
- **右键站点功能**：在任何站点上点击右键将打开一个菜单，允许进行以下操作：
  - **增加邻近站点**：为当前站点添加前一站或后一站，需要输入新站点名称和两站之间的时间权重。
  - **删除站点**：从当前线路中删除所选站点，如果是线路上的最后一个站点，则整条线路也将被删除。
  - **封闭/恢复站点**：更改站点的开放状态，影响路径搜索和站点信息展示。
  - **查看换乘情况**：显示从当前站点可达的所有换乘选项。
  - **修改路径权重**：更改选定站点到前一站或后一站的权重。

### 路径查询
- **查询路径**：在路径查询窗口，选择起始线路、起始站点、目的线路及目的站点。还可以选择查询类型（最短时间或最少换乘）。
  - 点击查询后，系统将计算并显示路径详情，包括每一段的乘车信息、总时间和换乘次数。

### 数据持久化
- **保存数据**：所有更改（添加、删除、修改站点或线路等）在执行后都会自动保存到本地JSON文件中，确保数据的持久化。

### 界面交互
- **交互反馈**：任何操作（如添加、删除、查询等）都会有相应的弹窗提示，帮助用户了解操作结果或进行错误处理。

